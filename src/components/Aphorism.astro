<div class="grid grid-flow-row justify-items-center">
	<p data-aphorism class="mb-10 text-white font-mono text-[clamp(18px,2.5vw,20px)] drop-shadow-lg"><noscript>a dead dream</noscript></p>
<img data-random aria-hidden="true" width="240" height="240" decoding="async" loading="eager" fetchpriority="high" class="block opacity-0 drop-shadow-lg" />
</div>
<script>
	import { pickAphorism } from '../lib/aphorisms.ts';
	import { typedText } from '../lib/ui/typed-text.ts';

	const target = document.querySelector<HTMLElement>('[data-aphorism]');
	const picked = pickAphorism();

	if (target && picked) {
		typedText(target, picked.text);
	}

	const image = document.querySelector<HTMLImageElement>('[data-random]');
	const imageChoices = [
		'images/stuckers/blinky.gif',
		'images/stuckers/robot.gif',
	];
	if (image) {
		const chosen = imageChoices[Math.floor(Math.random() * imageChoices.length)];
		image.setAttribute('src', chosen);
		image.addEventListener('load', () => {
			image.classList.remove('opacity-0');
		}, { once: true });
	}
</script>
